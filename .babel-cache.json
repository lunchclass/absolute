{
  "{\"filename\":\"/home/garlicb/study/absolute/gulpfile.babel.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"strict\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/garlicb/study/absolute\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "gulp-babel",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "babel"
              }
            ]
          },
          {
            "source": "child_process",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "childProcess"
              }
            ]
          },
          {
            "source": "gulp-eslint",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "eslint"
              }
            ]
          },
          {
            "source": "./server/push/gen_push_key",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "generatePushKey"
              }
            ]
          },
          {
            "source": "gulp",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "gulp"
              }
            ]
          },
          {
            "source": "gulp-mocha",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mocha"
              }
            ]
          },
          {
            "source": "gulp-nodemon",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "nodemon"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "run-sequence",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "runSequence"
              }
            ]
          },
          {
            "source": "gulp-sourcemaps",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "sourcemaps"
              }
            ]
          },
          {
            "source": "gulp-undef-task-to-default",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "undefTaskToDefault"
              }
            ]
          },
          {
            "source": "webpack",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "webpack"
              }
            ]
          },
          {
            "source": "./bootstrap/command/cc",
            "imported": [
              "inputRL",
              "rl"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "inputRL",
                "local": "inputRL"
              },
              {
                "kind": "named",
                "imported": "rl",
                "local": "rl"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/garlicb/study/absolute/gulpfile.babel.js",
      "filenameRelative": "/home/garlicb/study/absolute/gulpfile.babel.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "strict": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "gulpfile.babel.js",
      "sourceFileName": "gulpfile.babel.js",
      "sourceRoot": "/home/garlicb/study/absolute",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/garlicb/study/absolute",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "gulpfile.babel"
    },
    "ignored": false,
    "code": "var _gulpBabel = require('gulp-babel');\n\nvar _gulpBabel2 = _interopRequireDefault(_gulpBabel);\n\nvar _child_process = require('child_process');\n\nvar _child_process2 = _interopRequireDefault(_child_process);\n\nvar _gulpEslint = require('gulp-eslint');\n\nvar _gulpEslint2 = _interopRequireDefault(_gulpEslint);\n\nvar _gen_push_key = require('./server/push/gen_push_key');\n\nvar _gen_push_key2 = _interopRequireDefault(_gen_push_key);\n\nvar _gulp = require('gulp');\n\nvar _gulp2 = _interopRequireDefault(_gulp);\n\nvar _gulpMocha = require('gulp-mocha');\n\nvar _gulpMocha2 = _interopRequireDefault(_gulpMocha);\n\nvar _gulpNodemon = require('gulp-nodemon');\n\nvar _gulpNodemon2 = _interopRequireDefault(_gulpNodemon);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _runSequence = require('run-sequence');\n\nvar _runSequence2 = _interopRequireDefault(_runSequence);\n\nvar _gulpSourcemaps = require('gulp-sourcemaps');\n\nvar _gulpSourcemaps2 = _interopRequireDefault(_gulpSourcemaps);\n\nvar _gulpUndefTaskToDefault = require('gulp-undef-task-to-default');\n\nvar _gulpUndefTaskToDefault2 = _interopRequireDefault(_gulpUndefTaskToDefault);\n\nvar _webpack = require('webpack');\n\nvar _webpack2 = _interopRequireDefault(_webpack);\n\nvar _cc = require('./bootstrap/command/cc');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nprocess.on('exit', function () {\n  (0, _runSequence2.default)('stop');\n}); // Copyright (c) 2017 The Absolute Authors.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nprocess.on('SIGINT', function () {\n  (0, _runSequence2.default)('stop');\n});\n\nprocess.on('uncaughtException', function () {\n  (0, _runSequence2.default)('stop');\n});\n\nprocess.on('disconnect', function () {\n  (0, _runSequence2.default)('stop');\n});\n\n_gulp2.default.task('default', ['help']);\n\n_gulp2.default.task('help', function () {\n  // TODO(zino): We should implement this command.\n});\n\n_gulp2.default.task('build_server', function () {\n  return _gulp2.default.src(['./server/**/*.js']).pipe(_gulpSourcemaps2.default.init()).pipe((0, _gulpBabel2.default)()).on('error', function (error) {\n    console.log(error);\n  }).pipe(_gulpSourcemaps2.default.write('.', { sourceRoot: _path2.default.resolve(__dirname, 'server') })).pipe(_gulp2.default.dest(_path2.default.resolve(__dirname, 'out', 'server')));\n});\n\n_gulp2.default.task('lint', function (finish) {\n  (0, _runSequence2.default)('lint_server', 'lint_router', finish);\n});\n\n_gulp2.default.task('lint_server', function (finish) {\n  return _gulp2.default.src(['./gulpfile.babel.js', './server/**/*.js', '!./server/**/*.router.js', '!./server/push/push_key.js']).pipe((0, _gulpEslint2.default)()).pipe(_gulpEslint2.default.format()).pipe(_gulpEslint2.default.failAfterError());\n});\n\n_gulp2.default.task('lint_router', function (finish) {\n  return _gulp2.default.src(['./server/**/*.router.js']).pipe((0, _gulpEslint2.default)({\n    'rules': {\n      'require-jsdoc': ['error', {\n        'require': {\n          'MethodDefinition': false,\n          'ClassDeclaration': false } }] } })).pipe(_gulpEslint2.default.format()).pipe(_gulpEslint2.default.failAfterError());\n});\n\n_gulp2.default.task('push_key', function () {\n  (0, _gen_push_key2.default)();\n});\n\n_gulp2.default.task('start', function () {\n  (0, _runSequence2.default)('start_db', 'lint', 'push_key', 'build_server', 'build_client', 'start_server');\n});\n\n_gulp2.default.task('start_server', function () {\n  (0, _gulpNodemon2.default)({\n    script: 'server.js',\n    cwd: 'out/server'\n  });\n});\n\n_gulp2.default.task('start_db', function (finish) {\n  _child_process2.default.exec('mongod --fork --dbpath database --logpath database/log', function (error) {\n    if (error) console.log('Already running mongo DB daemon..');else console.log('Running mongo DB daemon..');\n    finish();\n  });\n});\n\n// FIXME(zino): This command is not working well in some cases. (e.g. CTRL + C)\n_gulp2.default.task('stop', function (finish) {\n  _child_process2.default.exec('mongo admin --eval \"db.shutdownServer();\"', function (error) {\n    setTimeout(function () {\n      finish();\n    }, 1000);\n  });\n});\n\n_gulp2.default.task('bootstrap_test', function () {\n  _gulp2.default.src(['bootstrap/test/test-*.js'], { read: false }).pipe((0, _gulpMocha2.default)()).once('error', function () {\n    process.exit(1);\n  }).once('end', function () {\n    process.exit();\n  });\n});\n\n_gulp2.default.task('build_client', function () {\n  _gulp2.default.src([_path2.default.resolve(__dirname, 'client', 'index.html'), _path2.default.resolve(__dirname, 'client', 'service-worker.js')]).pipe(_gulp2.default.dest(_path2.default.resolve(__dirname, 'out', 'client')));\n  (0, _webpack2.default)({\n    watch: true,\n    context: _path2.default.resolve(__dirname, 'client'),\n    entry: './app.js',\n    output: {\n      path: _path2.default.resolve(__dirname, 'out', 'client', 'javascript'),\n      filename: 'bundle.js' },\n    module: {\n      rules: [{\n        test: /\\.js$/,\n        use: [{\n          loader: 'babel-loader',\n          options: {\n            presets: [['es2015-without-strict']] } }] }, {\n        test: /\\.scss$/,\n        use: ['style-loader', 'css-loader', 'sass-loader'] }, {\n        test: /\\.(png|jpg)$/,\n        use: [{\n          loader: 'url-loader',\n          options: { limit: 10000 } }] }] },\n    plugins: [new _webpack2.default.optimize.UglifyJsPlugin({\n      include: /\\.min\\.js$/,\n      minimize: true })] }, function (err, stats) {\n    // FIXME(cs-lee) save log in file\n  });\n});\n\n_gulp2.default.task('cc', function () {\n  console.log('Enter keyword \"pr\" or \"cp\"');\n  _cc.rl.on('line', function (line) {\n    if (line === 'pr') {\n      (0, _cc.inputRL)(line);\n    } else if (line === 'cp') {\n      _gulp2.default.start('cp');\n    }\n  });\n});\n\n_gulp2.default.task('cp', function () {\n  _cc.rl.question('num: ', function (answer) {\n    _child_process2.default.execSync('git pull https://github.com/lunchclass/absolute pull/' + answer + '/head:pr-' + answer);\n    _cc.rl.close();\n  });\n});\n\n(0, _gulpUndefTaskToDefault2.default)(_gulp2.default);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImd1bHBmaWxlLmJhYmVsLmpzIl0sIm5hbWVzIjpbInByb2Nlc3MiLCJvbiIsInRhc2siLCJzcmMiLCJwaXBlIiwiaW5pdCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsIndyaXRlIiwic291cmNlUm9vdCIsInJlc29sdmUiLCJfX2Rpcm5hbWUiLCJkZXN0IiwiZmluaXNoIiwiZm9ybWF0IiwiZmFpbEFmdGVyRXJyb3IiLCJzY3JpcHQiLCJjd2QiLCJleGVjIiwic2V0VGltZW91dCIsInJlYWQiLCJvbmNlIiwiZXhpdCIsIndhdGNoIiwiY29udGV4dCIsImVudHJ5Iiwib3V0cHV0IiwicGF0aCIsImZpbGVuYW1lIiwibW9kdWxlIiwicnVsZXMiLCJ0ZXN0IiwidXNlIiwibG9hZGVyIiwib3B0aW9ucyIsInByZXNldHMiLCJsaW1pdCIsInBsdWdpbnMiLCJvcHRpbWl6ZSIsIlVnbGlmeUpzUGx1Z2luIiwiaW5jbHVkZSIsIm1pbmltaXplIiwiZXJyIiwic3RhdHMiLCJsaW5lIiwic3RhcnQiLCJxdWVzdGlvbiIsImFuc3dlciIsImV4ZWNTeW5jIiwiY2xvc2UiXSwibWFwcGluZ3MiOiJBQWNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUVBOzs7O0FBRUFBLFFBQVFDLEVBQVIsQ0FBVyxNQUFYLEVBQW1CLFlBQU07QUFDdkIsNkJBQVksTUFBWjtBQUNELENBRkQsRSxDQTdCRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFxQkFELFFBQVFDLEVBQVIsQ0FBVyxRQUFYLEVBQXFCLFlBQU07QUFDekIsNkJBQVksTUFBWjtBQUNELENBRkQ7O0FBSUFELFFBQVFDLEVBQVIsQ0FBVyxtQkFBWCxFQUFnQyxZQUFNO0FBQ3BDLDZCQUFZLE1BQVo7QUFDRCxDQUZEOztBQUlBRCxR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aG9tZS9nYXJsaWNiL3N0dWR5L2Fic29sdXRlIiwic291cmNlc0NvbnRlbnQiOlsiICAvLyBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIEFic29sdXRlIEF1dGhvcnMuXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgYmFiZWwgZnJvbSAnZ3VscC1iYWJlbCc7XG5pbXBvcnQgY2hpbGRQcm9jZXNzIGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuaW1wb3J0IGVzbGludCBmcm9tICdndWxwLWVzbGludCc7XG5pbXBvcnQgZ2VuZXJhdGVQdXNoS2V5IGZyb20gJy4vc2VydmVyL3B1c2gvZ2VuX3B1c2hfa2V5JztcbmltcG9ydCBndWxwIGZyb20gJ2d1bHAnO1xuaW1wb3J0IG1vY2hhIGZyb20gJ2d1bHAtbW9jaGEnO1xuaW1wb3J0IG5vZGVtb24gZnJvbSAnZ3VscC1ub2RlbW9uJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHJ1blNlcXVlbmNlIGZyb20gJ3J1bi1zZXF1ZW5jZSc7XG5pbXBvcnQgc291cmNlbWFwcyBmcm9tICdndWxwLXNvdXJjZW1hcHMnO1xuaW1wb3J0IHVuZGVmVGFza1RvRGVmYXVsdCBmcm9tICdndWxwLXVuZGVmLXRhc2stdG8tZGVmYXVsdCc7XG5pbXBvcnQgd2VicGFjayBmcm9tICd3ZWJwYWNrJztcblxuaW1wb3J0IHtpbnB1dFJMLCBybH0gZnJvbSAnLi9ib290c3RyYXAvY29tbWFuZC9jYyc7XG5cbnByb2Nlc3Mub24oJ2V4aXQnLCAoKSA9PiB7XG4gIHJ1blNlcXVlbmNlKCdzdG9wJyk7XG59KTtcblxucHJvY2Vzcy5vbignU0lHSU5UJywgKCkgPT4ge1xuICBydW5TZXF1ZW5jZSgnc3RvcCcpO1xufSk7XG5cbnByb2Nlc3Mub24oJ3VuY2F1Z2h0RXhjZXB0aW9uJywgKCkgPT4ge1xuICBydW5TZXF1ZW5jZSgnc3RvcCcpO1xufSk7XG5cbnByb2Nlc3Mub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9PiB7XG4gIHJ1blNlcXVlbmNlKCdzdG9wJyk7XG59KTtcblxuZ3VscC50YXNrKCdkZWZhdWx0JywgWydoZWxwJ10pO1xuXG5ndWxwLnRhc2soJ2hlbHAnLCAoKSA9PiB7XG4gIC8vIFRPRE8oemlubyk6IFdlIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBjb21tYW5kLlxufSk7XG5cbmd1bHAudGFzaygnYnVpbGRfc2VydmVyJywgKCkgPT4ge1xuICByZXR1cm4gZ3VscC5zcmMoWycuL3NlcnZlci8qKi8qLmpzJ10pXG4gICAgLnBpcGUoc291cmNlbWFwcy5pbml0KCkpXG4gICAgLnBpcGUoYmFiZWwoKSlcbiAgICAub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfSlcbiAgICAucGlwZShzb3VyY2VtYXBzLndyaXRlKCcuJyxcbiAgICAgIHtzb3VyY2VSb290OiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnc2VydmVyJyl9KSlcbiAgICAucGlwZShndWxwLmRlc3QocGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJ291dCcsICdzZXJ2ZXInKSkpO1xufSk7XG5cbmd1bHAudGFzaygnbGludCcsIChmaW5pc2gpID0+IHtcbiAgcnVuU2VxdWVuY2UoJ2xpbnRfc2VydmVyJywgJ2xpbnRfcm91dGVyJywgZmluaXNoKTtcbn0pO1xuXG5ndWxwLnRhc2soJ2xpbnRfc2VydmVyJywgKGZpbmlzaCkgPT4ge1xuICByZXR1cm4gZ3VscC5zcmMoW1xuICAgICcuL2d1bHBmaWxlLmJhYmVsLmpzJyxcbiAgICAnLi9zZXJ2ZXIvKiovKi5qcycsXG4gICAgJyEuL3NlcnZlci8qKi8qLnJvdXRlci5qcycsXG4gICAgJyEuL3NlcnZlci9wdXNoL3B1c2hfa2V5LmpzJ10pXG4gICAgLnBpcGUoZXNsaW50KCkpXG4gICAgLnBpcGUoZXNsaW50LmZvcm1hdCgpKVxuICAgIC5waXBlKGVzbGludC5mYWlsQWZ0ZXJFcnJvcigpKTtcbn0pO1xuXG5ndWxwLnRhc2soJ2xpbnRfcm91dGVyJywgKGZpbmlzaCkgPT4ge1xuICByZXR1cm4gZ3VscC5zcmMoWycuL3NlcnZlci8qKi8qLnJvdXRlci5qcyddKVxuICAgIC5waXBlKGVzbGludCh7XG4gICAgICAncnVsZXMnOiB7XG4gICAgICAgICdyZXF1aXJlLWpzZG9jJzogWydlcnJvcicsIHtcbiAgICAgICAgICAncmVxdWlyZSc6IHtcbiAgICAgICAgICAgICdNZXRob2REZWZpbml0aW9uJzogZmFsc2UsXG4gICAgICAgICAgICAnQ2xhc3NEZWNsYXJhdGlvbic6IGZhbHNlfX1dfX0pKVxuICAgIC5waXBlKGVzbGludC5mb3JtYXQoKSlcbiAgICAucGlwZShlc2xpbnQuZmFpbEFmdGVyRXJyb3IoKSk7XG59KTtcblxuZ3VscC50YXNrKCdwdXNoX2tleScsICgpID0+IHtcbiAgZ2VuZXJhdGVQdXNoS2V5KCk7XG59KTtcblxuZ3VscC50YXNrKCdzdGFydCcsICgpID0+IHtcbiAgcnVuU2VxdWVuY2UoXG4gICAgJ3N0YXJ0X2RiJyxcbiAgICAnbGludCcsXG4gICAgJ3B1c2hfa2V5JyxcbiAgICAnYnVpbGRfc2VydmVyJyxcbiAgICAnYnVpbGRfY2xpZW50JyxcbiAgICAnc3RhcnRfc2VydmVyJyk7XG59KTtcblxuZ3VscC50YXNrKCdzdGFydF9zZXJ2ZXInLCAoKSA9PiB7XG4gIG5vZGVtb24oe1xuICAgIHNjcmlwdDogJ3NlcnZlci5qcycsXG4gICAgY3dkOiAnb3V0L3NlcnZlcicsXG4gIH0pO1xufSk7XG5cbmd1bHAudGFzaygnc3RhcnRfZGInLCAoZmluaXNoKSA9PiB7XG4gIGNoaWxkUHJvY2Vzcy5leGVjKFxuICAgICdtb25nb2QgLS1mb3JrIC0tZGJwYXRoIGRhdGFiYXNlIC0tbG9ncGF0aCBkYXRhYmFzZS9sb2cnLCAoZXJyb3IpID0+IHtcbiAgICAgIGlmIChlcnJvcilcbiAgICAgICAgY29uc29sZS5sb2coJ0FscmVhZHkgcnVubmluZyBtb25nbyBEQiBkYWVtb24uLicpO1xuICAgICAgZWxzZVxuICAgICAgICBjb25zb2xlLmxvZygnUnVubmluZyBtb25nbyBEQiBkYWVtb24uLicpO1xuICAgICAgZmluaXNoKCk7XG4gICAgfSk7XG59KTtcblxuLy8gRklYTUUoemlubyk6IFRoaXMgY29tbWFuZCBpcyBub3Qgd29ya2luZyB3ZWxsIGluIHNvbWUgY2FzZXMuIChlLmcuIENUUkwgKyBDKVxuZ3VscC50YXNrKCdzdG9wJywgKGZpbmlzaCkgPT4ge1xuICBjaGlsZFByb2Nlc3MuZXhlYygnbW9uZ28gYWRtaW4gLS1ldmFsIFwiZGIuc2h1dGRvd25TZXJ2ZXIoKTtcIicsIChlcnJvcikgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZmluaXNoKCk7XG4gICAgfSwgMTAwMCk7XG4gIH0pO1xufSk7XG5cbmd1bHAudGFzaygnYm9vdHN0cmFwX3Rlc3QnLCAoKSA9PiB7XG4gIGd1bHAuc3JjKFsnYm9vdHN0cmFwL3Rlc3QvdGVzdC0qLmpzJ10sIHtyZWFkOiBmYWxzZX0pXG4gICAgLnBpcGUobW9jaGEoKSlcbiAgICAub25jZSgnZXJyb3InLCAoKSA9PiB7XG4gICAgICBwcm9jZXNzLmV4aXQoMSk7XG4gICAgfSlcbiAgICAub25jZSgnZW5kJywgKCkgPT4ge1xuICAgICAgcHJvY2Vzcy5leGl0KCk7XG4gICAgfSk7XG59KTtcblxuZ3VscC50YXNrKCdidWlsZF9jbGllbnQnLCAoKSA9PiB7XG4gIGd1bHAuc3JjKFtwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnY2xpZW50JywgJ2luZGV4Lmh0bWwnKSxcbiAgICBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnY2xpZW50JywgJ3NlcnZpY2Utd29ya2VyLmpzJyldKVxuICAgIC5waXBlKGd1bHAuZGVzdChwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnb3V0JywgJ2NsaWVudCcpKSk7XG4gIHdlYnBhY2soe1xuICAgIHdhdGNoOiB0cnVlLFxuICAgIGNvbnRleHQ6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICdjbGllbnQnKSxcbiAgICBlbnRyeTogJy4vYXBwLmpzJyxcbiAgICBvdXRwdXQ6IHtcbiAgICAgIHBhdGg6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICdvdXQnLCAnY2xpZW50JywgJ2phdmFzY3JpcHQnKSxcbiAgICAgIGZpbGVuYW1lOiAnYnVuZGxlLmpzJ30sXG4gICAgbW9kdWxlOiB7XG4gICAgICBydWxlczogW3tcbiAgICAgICAgdGVzdDogL1xcLmpzJC8sXG4gICAgICAgIHVzZTogW3tcbiAgICAgICAgICBsb2FkZXI6ICdiYWJlbC1sb2FkZXInLFxuICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHByZXNldHM6IFtcbiAgICAgICAgICAgICAgWydlczIwMTUtd2l0aG91dC1zdHJpY3QnXV19fV19LFxuICAgICAge1xuICAgICAgICB0ZXN0OiAvXFwuc2NzcyQvLFxuICAgICAgICB1c2U6IFtcbiAgICAgICAgICAnc3R5bGUtbG9hZGVyJyxcbiAgICAgICAgICAnY3NzLWxvYWRlcicsXG4gICAgICAgICAgJ3Nhc3MtbG9hZGVyJ119LFxuICAgICAge1xuICAgICAgICB0ZXN0OiAvXFwuKHBuZ3xqcGcpJC8sXG4gICAgICAgIHVzZTogW3tcbiAgICAgICAgICBsb2FkZXI6ICd1cmwtbG9hZGVyJyxcbiAgICAgICAgICBvcHRpb25zOiB7bGltaXQ6IDEwMDAwfX1dfV19LFxuICAgIHBsdWdpbnM6IFtcbiAgICAgIG5ldyB3ZWJwYWNrLm9wdGltaXplLlVnbGlmeUpzUGx1Z2luKHtcbiAgICAgICAgaW5jbHVkZTogL1xcLm1pblxcLmpzJC8sXG4gICAgICAgIG1pbmltaXplOiB0cnVlfSldfSwgKGVyciwgc3RhdHMpID0+IHtcbiAgICAgIC8vIEZJWE1FKGNzLWxlZSkgc2F2ZSBsb2cgaW4gZmlsZVxuICB9KTtcbn0pO1xuXG5ndWxwLnRhc2soJ2NjJywgKCkgPT57XG4gIGNvbnNvbGUubG9nKCdFbnRlciBrZXl3b3JkIFwicHJcIiBvciBcImNwXCInKTtcbiAgcmwub24oJ2xpbmUnLCAobGluZSkgPT57XG4gICAgaWYobGluZSA9PT0gJ3ByJykge1xuICAgICAgaW5wdXRSTChsaW5lKTtcbiAgICB9IGVsc2UgaWYgKGxpbmUgPT09ICdjcCcpIHtcbiAgICAgIGd1bHAuc3RhcnQoJ2NwJyk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5ndWxwLnRhc2soJ2NwJywgKCkgPT57XG4gIHJsLnF1ZXN0aW9uKCdudW06ICcsIGZ1bmN0aW9uKGFuc3dlcikge1xuICAgIGNoaWxkUHJvY2Vzcy5leGVjU3luYyhcbiAgICAgICdnaXQgcHVsbCBodHRwczovL2dpdGh1Yi5jb20vbHVuY2hjbGFzcy9hYnNvbHV0ZSBwdWxsLydcbiAgICArYW5zd2VyKyAnL2hlYWQ6cHItJythbnN3ZXIpO1xuICAgIHJsLmNsb3NlKCk7XG4gIH0pO1xufSk7XG5cbnVuZGVmVGFza1RvRGVmYXVsdChndWxwKTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "gulpfile.babel.js"
      ],
      "names": [
        "process",
        "on",
        "task",
        "src",
        "pipe",
        "init",
        "error",
        "console",
        "log",
        "write",
        "sourceRoot",
        "resolve",
        "__dirname",
        "dest",
        "finish",
        "format",
        "failAfterError",
        "script",
        "cwd",
        "exec",
        "setTimeout",
        "read",
        "once",
        "exit",
        "watch",
        "context",
        "entry",
        "output",
        "path",
        "filename",
        "module",
        "rules",
        "test",
        "use",
        "loader",
        "options",
        "presets",
        "limit",
        "plugins",
        "optimize",
        "UglifyJsPlugin",
        "include",
        "minimize",
        "err",
        "stats",
        "line",
        "start",
        "question",
        "answer",
        "execSync",
        "close"
      ],
      "mappings": "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",
      "file": "gulpfile.babel.js",
      "sourceRoot": "/home/garlicb/study/absolute",
      "sourcesContent": [
        "  // Copyright (c) 2017 The Absolute Authors.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport babel from 'gulp-babel';\nimport childProcess from 'child_process';\nimport eslint from 'gulp-eslint';\nimport generatePushKey from './server/push/gen_push_key';\nimport gulp from 'gulp';\nimport mocha from 'gulp-mocha';\nimport nodemon from 'gulp-nodemon';\nimport path from 'path';\nimport runSequence from 'run-sequence';\nimport sourcemaps from 'gulp-sourcemaps';\nimport undefTaskToDefault from 'gulp-undef-task-to-default';\nimport webpack from 'webpack';\n\nimport {inputRL, rl} from './bootstrap/command/cc';\n\nprocess.on('exit', () => {\n  runSequence('stop');\n});\n\nprocess.on('SIGINT', () => {\n  runSequence('stop');\n});\n\nprocess.on('uncaughtException', () => {\n  runSequence('stop');\n});\n\nprocess.on('disconnect', () => {\n  runSequence('stop');\n});\n\ngulp.task('default', ['help']);\n\ngulp.task('help', () => {\n  // TODO(zino): We should implement this command.\n});\n\ngulp.task('build_server', () => {\n  return gulp.src(['./server/**/*.js'])\n    .pipe(sourcemaps.init())\n    .pipe(babel())\n    .on('error', (error) => {\n      console.log(error);\n    })\n    .pipe(sourcemaps.write('.',\n      {sourceRoot: path.resolve(__dirname, 'server')}))\n    .pipe(gulp.dest(path.resolve(__dirname, 'out', 'server')));\n});\n\ngulp.task('lint', (finish) => {\n  runSequence('lint_server', 'lint_router', finish);\n});\n\ngulp.task('lint_server', (finish) => {\n  return gulp.src([\n    './gulpfile.babel.js',\n    './server/**/*.js',\n    '!./server/**/*.router.js',\n    '!./server/push/push_key.js'])\n    .pipe(eslint())\n    .pipe(eslint.format())\n    .pipe(eslint.failAfterError());\n});\n\ngulp.task('lint_router', (finish) => {\n  return gulp.src(['./server/**/*.router.js'])\n    .pipe(eslint({\n      'rules': {\n        'require-jsdoc': ['error', {\n          'require': {\n            'MethodDefinition': false,\n            'ClassDeclaration': false}}]}}))\n    .pipe(eslint.format())\n    .pipe(eslint.failAfterError());\n});\n\ngulp.task('push_key', () => {\n  generatePushKey();\n});\n\ngulp.task('start', () => {\n  runSequence(\n    'start_db',\n    'lint',\n    'push_key',\n    'build_server',\n    'build_client',\n    'start_server');\n});\n\ngulp.task('start_server', () => {\n  nodemon({\n    script: 'server.js',\n    cwd: 'out/server',\n  });\n});\n\ngulp.task('start_db', (finish) => {\n  childProcess.exec(\n    'mongod --fork --dbpath database --logpath database/log', (error) => {\n      if (error)\n        console.log('Already running mongo DB daemon..');\n      else\n        console.log('Running mongo DB daemon..');\n      finish();\n    });\n});\n\n// FIXME(zino): This command is not working well in some cases. (e.g. CTRL + C)\ngulp.task('stop', (finish) => {\n  childProcess.exec('mongo admin --eval \"db.shutdownServer();\"', (error) => {\n    setTimeout(() => {\n      finish();\n    }, 1000);\n  });\n});\n\ngulp.task('bootstrap_test', () => {\n  gulp.src(['bootstrap/test/test-*.js'], {read: false})\n    .pipe(mocha())\n    .once('error', () => {\n      process.exit(1);\n    })\n    .once('end', () => {\n      process.exit();\n    });\n});\n\ngulp.task('build_client', () => {\n  gulp.src([path.resolve(__dirname, 'client', 'index.html'),\n    path.resolve(__dirname, 'client', 'service-worker.js')])\n    .pipe(gulp.dest(path.resolve(__dirname, 'out', 'client')));\n  webpack({\n    watch: true,\n    context: path.resolve(__dirname, 'client'),\n    entry: './app.js',\n    output: {\n      path: path.resolve(__dirname, 'out', 'client', 'javascript'),\n      filename: 'bundle.js'},\n    module: {\n      rules: [{\n        test: /\\.js$/,\n        use: [{\n          loader: 'babel-loader',\n          options: {\n            presets: [\n              ['es2015-without-strict']]}}]},\n      {\n        test: /\\.scss$/,\n        use: [\n          'style-loader',\n          'css-loader',\n          'sass-loader']},\n      {\n        test: /\\.(png|jpg)$/,\n        use: [{\n          loader: 'url-loader',\n          options: {limit: 10000}}]}]},\n    plugins: [\n      new webpack.optimize.UglifyJsPlugin({\n        include: /\\.min\\.js$/,\n        minimize: true})]}, (err, stats) => {\n      // FIXME(cs-lee) save log in file\n  });\n});\n\ngulp.task('cc', () =>{\n  console.log('Enter keyword \"pr\" or \"cp\"');\n  rl.on('line', (line) =>{\n    if(line === 'pr') {\n      inputRL(line);\n    } else if (line === 'cp') {\n      gulp.start('cp');\n    }\n  });\n});\n\ngulp.task('cp', () =>{\n  rl.question('num: ', function(answer) {\n    childProcess.execSync(\n      'git pull https://github.com/lunchclass/absolute pull/'\n    +answer+ '/head:pr-'+answer);\n    rl.close();\n  });\n});\n\nundefTaskToDefault(gulp);\n"
      ]
    },
    "mtime": 1501931815524
  },
  "{\"filename\":\"/home/garlicb/study/absolute/server/push/gen_push_key.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"strict\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/garlicb/study/absolute/server/push\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "fs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "fs"
              }
            ]
          },
          {
            "source": "./push_key",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "pushKeys"
              }
            ]
          },
          {
            "source": "web-push",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "webpush"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "generatePushKey"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "generatePushKey",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/garlicb/study/absolute/server/push/gen_push_key.js",
      "filenameRelative": "/home/garlicb/study/absolute/server/push/gen_push_key.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "strict": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "gen_push_key.js",
      "sourceFileName": "gen_push_key.js",
      "sourceRoot": "/home/garlicb/study/absolute/server/push",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/garlicb/study/absolute/server/push",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "gen_push_key"
    },
    "ignored": false,
    "code": "Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = generatePushKey;\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _push_key = require('./push_key');\n\nvar _push_key2 = _interopRequireDefault(_push_key);\n\nvar _webPush = require('web-push');\n\nvar _webPush2 = _interopRequireDefault(_webPush);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *  Load push key if key exist else generate and load\n */\nfunction generatePushKey() {\n  if (_push_key2.default.pushVapidKeys.privateKey === undefined || _push_key2.default.pushVapidKeys.privateKey === '') {\n    console.log('generate push key');\n    var vapidKeys = _webPush2.default.generateVAPIDKeys();\n    _push_key2.default.pushVapidKeys.privateKey = vapidKeys.privateKey;\n    _push_key2.default.pushVapidKeys.publicKey = vapidKeys.publicKey;\n\n    writeClientPushPubkey(vapidKeys.publicKey);\n    writeServerPusKey(_push_key2.default);\n  }\n}\n\n/**\n * Write push vapid public key for client, client only must know public key\n * @param {string} pubKey vapid public key for client side\n */\n// Copyright (c) 2017 The Absolute Authors.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nfunction writeClientPushPubkey(pubKey) {\n  var path = 'client/push/push_key.js';\n  _fs2.default.writeFileSync(path, 'export default {\\n' + '  \\'pushVapidKeys\\': {\\n' + ('    \\'publicKey\\': \\'' + _push_key2.default.pushVapidKeys.publicKey + '\\'\\n  }\\n}'));\n}\n\n/**\n * Write push keys for server.\n * @param {json} pushKeys pushServerKey and pushVapidKeys for server\n */\nfunction writeServerPusKey(pushKeys) {\n  var path = 'server/push/push_key.js';\n  _fs2.default.writeFileSync(path, 'export default {\\n' + ('  \\'pushServerKey\\': \\'' + pushKeys.pushServerKey + '\\',\\n') + '  \\'pushVapidKeys\\': {\\n' + ('    \\'publicKey\\': \\'' + pushKeys.pushVapidKeys.publicKey + '\\',\\n') + ('    \\'privateKey\\': \\'' + pushKeys.pushVapidKeys.privateKey + '\\',\\n') + '  },\\n};');\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdlbl9wdXNoX2tleS5qcyJdLCJuYW1lcyI6WyJnZW5lcmF0ZVB1c2hLZXkiLCJwdXNoVmFwaWRLZXlzIiwicHJpdmF0ZUtleSIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJsb2ciLCJ2YXBpZEtleXMiLCJnZW5lcmF0ZVZBUElES2V5cyIsInB1YmxpY0tleSIsIndyaXRlQ2xpZW50UHVzaFB1YmtleSIsIndyaXRlU2VydmVyUHVzS2V5IiwicHViS2V5IiwicGF0aCIsIndyaXRlRmlsZVN5bmMiLCJwdXNoS2V5cyIsInB1c2hTZXJ2ZXJLZXkiXSwibWFwcGluZ3MiOiI7OztrQkFxQndCQSxlOztBQVB4Qjs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBOzs7QUFHZSxTQUFTQSxlQUFULEdBQTJCO0FBQ3hDLE1BQUcsbUJBQVNDLGFBQVQsQ0FBdUJDLFVBQXZCLEtBQXNDQyxTQUF0QyxJQUNFLG1CQUFTRixhQUFULENBQXVCQyxVQUF2QixLQUFzQyxFQUQzQyxFQUMrQztBQUM3Q0UsWUFBUUMsR0FBUixDQUFZLG1CQUFaO0FBQ0EsUUFBTUMsWUFBWSxrQkFBUUMsaUJBQVIsRUFBbEI7QUFDQSx1QkFBU04sYUFBVCxDQUF1QkMsVUFBdkIsR0FBb0NJLFVBQVVKLFVBQTlDO0FBQ0EsdUJBQVNELGFBQVQsQ0FBdUJPLFNBQXZCLEdBQW1DRixVQUFVRSxTQUE3Qzs7QUFFQUMsMEJBQXNCSCxVQUFVRSxTQUFoQztBQUNBRTtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7QUFsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBMEJBLFNBQVNELHFCQUFULENBQStCRSxNQUEvQixFQUF1QztBQUNyQyxNQUFNQyxPQUFPLHlCQUFiO0FBQ0EsZUFBR0MsYUFBSCxDQUFpQkQsSUFBakIsRUFDRSwrRUFFMEIsbUJBQVNYLGFBQVQsQ0FBdUJPLFNBRmpELGdCQURGO0FBSUQ7O0FBRUQ7Ozs7QUFJQSxTQUFTRSxpQkFBVCxDQUEyQkksUUFBM0IsRUFBcUM7QUFDbkMsTUFBTUYsT0FBTyx5QkFBYjtBQUNBLGVBQUdDLGFBQUgsQ0FBaUJELElBQWpCLEVBQ0Usb0RBQzBCRSxTQUFTQyxhQURuQyxzRUFHMEJELFNBQVNiLGFBQVQsQ0FBdUJPLFNBSGpELDBDQUkyQk0sU0FBU2IsYUFBVCxDQUF1QkMsVUFKbEQsd0JBREY7QUFPRCIsImZpbGUiOiJnZW5fcHVzaF9rZXkuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvZ2FybGljYi9zdHVkeS9hYnNvbHV0ZS9zZXJ2ZXIvcHVzaCIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAxNyBUaGUgQWJzb2x1dGUgQXV0aG9ycy5cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcHVzaEtleXMgZnJvbSAnLi9wdXNoX2tleSc7XG5pbXBvcnQgd2VicHVzaCBmcm9tICd3ZWItcHVzaCc7XG5cbi8qKlxuICogIExvYWQgcHVzaCBrZXkgaWYga2V5IGV4aXN0IGVsc2UgZ2VuZXJhdGUgYW5kIGxvYWRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VuZXJhdGVQdXNoS2V5KCkge1xuICBpZihwdXNoS2V5cy5wdXNoVmFwaWRLZXlzLnByaXZhdGVLZXkgPT09IHVuZGVmaW5lZFxuICAgIHx8IHB1c2hLZXlzLnB1c2hWYXBpZEtleXMucHJpdmF0ZUtleSA9PT0gJycpIHtcbiAgICBjb25zb2xlLmxvZygnZ2VuZXJhdGUgcHVzaCBrZXknKTtcbiAgICBjb25zdCB2YXBpZEtleXMgPSB3ZWJwdXNoLmdlbmVyYXRlVkFQSURLZXlzKCk7XG4gICAgcHVzaEtleXMucHVzaFZhcGlkS2V5cy5wcml2YXRlS2V5ID0gdmFwaWRLZXlzLnByaXZhdGVLZXk7XG4gICAgcHVzaEtleXMucHVzaFZhcGlkS2V5cy5wdWJsaWNLZXkgPSB2YXBpZEtleXMucHVibGljS2V5O1xuXG4gICAgd3JpdGVDbGllbnRQdXNoUHVia2V5KHZhcGlkS2V5cy5wdWJsaWNLZXkpO1xuICAgIHdyaXRlU2VydmVyUHVzS2V5KHB1c2hLZXlzKTtcbiAgfVxufVxuXG4vKipcbiAqIFdyaXRlIHB1c2ggdmFwaWQgcHVibGljIGtleSBmb3IgY2xpZW50LCBjbGllbnQgb25seSBtdXN0IGtub3cgcHVibGljIGtleVxuICogQHBhcmFtIHtzdHJpbmd9IHB1YktleSB2YXBpZCBwdWJsaWMga2V5IGZvciBjbGllbnQgc2lkZVxuICovXG5mdW5jdGlvbiB3cml0ZUNsaWVudFB1c2hQdWJrZXkocHViS2V5KSB7XG4gIGNvbnN0IHBhdGggPSAnY2xpZW50L3B1c2gvcHVzaF9rZXkuanMnO1xuICBmcy53cml0ZUZpbGVTeW5jKHBhdGgsXG4gICAgYGV4cG9ydCBkZWZhdWx0IHtcXG5gICtcbiAgICBgICBcXCdwdXNoVmFwaWRLZXlzXFwnOiB7XFxuYCArXG4gICAgICBgICAgIFxcJ3B1YmxpY0tleVxcJzogXFwnJHtwdXNoS2V5cy5wdXNoVmFwaWRLZXlzLnB1YmxpY0tleX1cXCdcXG4gIH1cXG59YCk7XG59XG5cbi8qKlxuICogV3JpdGUgcHVzaCBrZXlzIGZvciBzZXJ2ZXIuXG4gKiBAcGFyYW0ge2pzb259IHB1c2hLZXlzIHB1c2hTZXJ2ZXJLZXkgYW5kIHB1c2hWYXBpZEtleXMgZm9yIHNlcnZlclxuICovXG5mdW5jdGlvbiB3cml0ZVNlcnZlclB1c0tleShwdXNoS2V5cykge1xuICBjb25zdCBwYXRoID0gJ3NlcnZlci9wdXNoL3B1c2hfa2V5LmpzJztcbiAgZnMud3JpdGVGaWxlU3luYyhwYXRoLFxuICAgIGBleHBvcnQgZGVmYXVsdCB7XFxuYCArXG4gICAgYCAgXFwncHVzaFNlcnZlcktleVxcJzogXFwnJHtwdXNoS2V5cy5wdXNoU2VydmVyS2V5fVxcJyxcXG5gICtcbiAgICBgICBcXCdwdXNoVmFwaWRLZXlzXFwnOiB7XFxuYCArXG4gICAgICBgICAgIFxcJ3B1YmxpY0tleVxcJzogXFwnJHtwdXNoS2V5cy5wdXNoVmFwaWRLZXlzLnB1YmxpY0tleX1cXCcsXFxuYCArXG4gICAgICBgICAgIFxcJ3ByaXZhdGVLZXlcXCc6IFxcJyR7cHVzaEtleXMucHVzaFZhcGlkS2V5cy5wcml2YXRlS2V5fVxcJyxcXG5gICtcbiAgICBgICB9LFxcbn07YCk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "gen_push_key.js"
      ],
      "names": [
        "generatePushKey",
        "pushVapidKeys",
        "privateKey",
        "undefined",
        "console",
        "log",
        "vapidKeys",
        "generateVAPIDKeys",
        "publicKey",
        "writeClientPushPubkey",
        "writeServerPusKey",
        "pubKey",
        "path",
        "writeFileSync",
        "pushKeys",
        "pushServerKey"
      ],
      "mappings": ";;;kBAqBwBA,e;;AAPxB;;;;AACA;;;;AACA;;;;;;AAEA;;;AAGe,SAASA,eAAT,GAA2B;AACxC,MAAG,mBAASC,aAAT,CAAuBC,UAAvB,KAAsCC,SAAtC,IACE,mBAASF,aAAT,CAAuBC,UAAvB,KAAsC,EAD3C,EAC+C;AAC7CE,YAAQC,GAAR,CAAY,mBAAZ;AACA,QAAMC,YAAY,kBAAQC,iBAAR,EAAlB;AACA,uBAASN,aAAT,CAAuBC,UAAvB,GAAoCI,UAAUJ,UAA9C;AACA,uBAASD,aAAT,CAAuBO,SAAvB,GAAmCF,UAAUE,SAA7C;;AAEAC,0BAAsBH,UAAUE,SAAhC;AACAE;AACD;AACF;;AAED;;;;AAlCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA0BA,SAASD,qBAAT,CAA+BE,MAA/B,EAAuC;AACrC,MAAMC,OAAO,yBAAb;AACA,eAAGC,aAAH,CAAiBD,IAAjB,EACE,+EAE0B,mBAASX,aAAT,CAAuBO,SAFjD,gBADF;AAID;;AAED;;;;AAIA,SAASE,iBAAT,CAA2BI,QAA3B,EAAqC;AACnC,MAAMF,OAAO,yBAAb;AACA,eAAGC,aAAH,CAAiBD,IAAjB,EACE,oDAC0BE,SAASC,aADnC,sEAG0BD,SAASb,aAAT,CAAuBO,SAHjD,0CAI2BM,SAASb,aAAT,CAAuBC,UAJlD,wBADF;AAOD",
      "file": "gen_push_key.js",
      "sourceRoot": "/home/garlicb/study/absolute/server/push",
      "sourcesContent": [
        "// Copyright (c) 2017 The Absolute Authors.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport fs from 'fs';\nimport pushKeys from './push_key';\nimport webpush from 'web-push';\n\n/**\n *  Load push key if key exist else generate and load\n */\nexport default function generatePushKey() {\n  if(pushKeys.pushVapidKeys.privateKey === undefined\n    || pushKeys.pushVapidKeys.privateKey === '') {\n    console.log('generate push key');\n    const vapidKeys = webpush.generateVAPIDKeys();\n    pushKeys.pushVapidKeys.privateKey = vapidKeys.privateKey;\n    pushKeys.pushVapidKeys.publicKey = vapidKeys.publicKey;\n\n    writeClientPushPubkey(vapidKeys.publicKey);\n    writeServerPusKey(pushKeys);\n  }\n}\n\n/**\n * Write push vapid public key for client, client only must know public key\n * @param {string} pubKey vapid public key for client side\n */\nfunction writeClientPushPubkey(pubKey) {\n  const path = 'client/push/push_key.js';\n  fs.writeFileSync(path,\n    `export default {\\n` +\n    `  \\'pushVapidKeys\\': {\\n` +\n      `    \\'publicKey\\': \\'${pushKeys.pushVapidKeys.publicKey}\\'\\n  }\\n}`);\n}\n\n/**\n * Write push keys for server.\n * @param {json} pushKeys pushServerKey and pushVapidKeys for server\n */\nfunction writeServerPusKey(pushKeys) {\n  const path = 'server/push/push_key.js';\n  fs.writeFileSync(path,\n    `export default {\\n` +\n    `  \\'pushServerKey\\': \\'${pushKeys.pushServerKey}\\',\\n` +\n    `  \\'pushVapidKeys\\': {\\n` +\n      `    \\'publicKey\\': \\'${pushKeys.pushVapidKeys.publicKey}\\',\\n` +\n      `    \\'privateKey\\': \\'${pushKeys.pushVapidKeys.privateKey}\\',\\n` +\n    `  },\\n};`);\n}\n"
      ]
    },
    "mtime": 1501777427475
  },
  "{\"filename\":\"/home/garlicb/study/absolute/server/push/push_key.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"strict\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/garlicb/study/absolute/server/push\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/garlicb/study/absolute/server/push/push_key.js",
      "filenameRelative": "/home/garlicb/study/absolute/server/push/push_key.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "strict": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "push_key.js",
      "sourceFileName": "push_key.js",
      "sourceRoot": "/home/garlicb/study/absolute/server/push",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/garlicb/study/absolute/server/push",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "push_key"
    },
    "ignored": false,
    "code": "Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  'pushServerKey': 'AAAAuU4aFAY:APA91bHL6gDxgTYMHD7q2hTKD_6GwYOcDhPTjiM14vYWwRwAmkl3rijIRnK-9-NdFvy8hrcXvi8IvBLhEPOUQZxZ2N00roSkH1U3tLX7sOGxzsKkTXHp9R2i-GbmYVkK9yYz0RF_wZfP',\n  'pushVapidKeys': {\n    'publicKey': 'BIIRaJLExnx2i0LLD8ROMfWazpjE7dQJo6UQo9zqbqu-rNSJFK2tyKM1FykWvrJSi9062j3xurAovn3jmli7Fws',\n    'privateKey': 'i7q575WlkOLcctkNeYhKs_OBAcWAuOgPef5d-aGjTyM'\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1c2hfa2V5LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztrQkFBZTtBQUNiLG1CQUFpQiwwSkFESjtBQUViLG1CQUFpQjtBQUNmLGlCQUFhLHlGQURFO0FBRWYsa0JBQWM7QUFGQztBQUZKLEMiLCJmaWxlIjoicHVzaF9rZXkuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvZ2FybGljYi9zdHVkeS9hYnNvbHV0ZS9zZXJ2ZXIvcHVzaCIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgJ3B1c2hTZXJ2ZXJLZXknOiAnQUFBQXVVNGFGQVk6QVBBOTFiSEw2Z0R4Z1RZTUhEN3EyaFRLRF82R3dZT2NEaFBUamlNMTR2WVd3UndBbWtsM3JpaklSbkstOS1OZEZ2eThocmNYdmk4SXZCTGhFUE9VUVp4WjJOMDByb1NrSDFVM3RMWDdzT0d4enNLa1RYSHA5UjJpLUdibVlWa0s5eVl6MFJGX3daZlAnLFxuICAncHVzaFZhcGlkS2V5cyc6IHtcbiAgICAncHVibGljS2V5JzogJ0JJSVJhSkxFeG54MmkwTExEOFJPTWZXYXpwakU3ZFFKbzZVUW85enFicXUtck5TSkZLMnR5S00xRnlrV3ZySlNpOTA2MmozeHVyQW92bjNqbWxpN0Z3cycsXG4gICAgJ3ByaXZhdGVLZXknOiAnaTdxNTc1V2xrT0xjY3RrTmVZaEtzX09CQWNXQXVPZ1BlZjVkLWFHalR5TScsXG4gIH0sXG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "push_key.js"
      ],
      "names": [],
      "mappings": ";;;kBAAe;AACb,mBAAiB,0JADJ;AAEb,mBAAiB;AACf,iBAAa,yFADE;AAEf,kBAAc;AAFC;AAFJ,C",
      "file": "push_key.js",
      "sourceRoot": "/home/garlicb/study/absolute/server/push",
      "sourcesContent": [
        "export default {\n  'pushServerKey': 'AAAAuU4aFAY:APA91bHL6gDxgTYMHD7q2hTKD_6GwYOcDhPTjiM14vYWwRwAmkl3rijIRnK-9-NdFvy8hrcXvi8IvBLhEPOUQZxZ2N00roSkH1U3tLX7sOGxzsKkTXHp9R2i-GbmYVkK9yYz0RF_wZfP',\n  'pushVapidKeys': {\n    'publicKey': 'BIIRaJLExnx2i0LLD8ROMfWazpjE7dQJo6UQo9zqbqu-rNSJFK2tyKM1FykWvrJSi9062j3xurAovn3jmli7Fws',\n    'privateKey': 'i7q575WlkOLcctkNeYhKs_OBAcWAuOgPef5d-aGjTyM',\n  },\n};\n"
      ]
    },
    "mtime": 1501777427475
  },
  "{\"filename\":\"/home/garlicb/study/absolute/bootstrap/command/cc.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"strict\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/garlicb/study/absolute/bootstrap/command\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.25.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "child_process",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "childProcess"
              }
            ]
          },
          {
            "source": "https",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "https"
              }
            ]
          },
          {
            "source": "readline",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "readline"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "cmd",
            "value",
            "rl",
            "inputRL",
            "option"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "cmd",
              "exported": "cmd"
            },
            {
              "kind": "local",
              "local": "value",
              "exported": "value"
            },
            {
              "kind": "local",
              "local": "rl",
              "exported": "rl"
            },
            {
              "kind": "local",
              "local": "inputRL",
              "exported": "inputRL"
            },
            {
              "kind": "local",
              "local": "option",
              "exported": "option"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/garlicb/study/absolute/bootstrap/command/cc.js",
      "filenameRelative": "/home/garlicb/study/absolute/bootstrap/command/cc.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "strict": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "cc.js",
      "sourceFileName": "cc.js",
      "sourceRoot": "/home/garlicb/study/absolute/bootstrap/command",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/garlicb/study/absolute/bootstrap/command",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "cc"
    },
    "ignored": false,
    "code": "Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rl = undefined;\nexports.cmd = cmd;\nexports.inputRL = inputRL;\n\nvar _child_process = require('child_process');\n\nvar _child_process2 = _interopRequireDefault(_child_process);\n\nvar _https = require('https');\n\nvar _https2 = _interopRequireDefault(_https);\n\nvar _readline = require('readline');\n\nvar _readline2 = _interopRequireDefault(_readline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar execSync = _child_process2.default.execSync;\nexports.default = '';\n\n/**\n* @param {String} value The shell command.\n* @return {String} data The extra command.\n*/\n\nfunction cmd(value) {\n  try {\n    return execSync(value).toString().replace(/\\n/g, '');\n  } catch (err) {\n    return 0;\n  }\n}\n\nvar rl = exports.rl = _readline2.default.createInterface({\n  input: process.stdin,\n  output: process.stdout });\n\n/**\n* @param {String} option keywords 'pr' or 'cp'.\n*/\nfunction inputRL(option) {\n  var i = 0;\n  var j = 0;\n\n  var Q = {\n    'id': cmd('git config --local --get PAT.User'),\n    'pw': cmd('git config --local --get PAT.Token') };\n\n  if (Q.pw === 0) option = 'token';\n\n  switch (option) {\n    case 'token':\n      console.log('Only first attempt requires your ID/PW');\n      Q['mtd'] = 'POST', Q['path'] = '/authorizations';\n      j = 2;\n      break;\n\n    case 'pr':\n      console.log('Write about pull-request (title/body/head)');\n      console.log('For \"head\", depending on where the branch is,');\n      console.log('You can write \"lunchclass\" or your id');\n      Q['mtd'] = 'POST', Q['path'] = '/repos/lunchclass/absolute/pulls';\n      Q['title'] = '', Q['body'] = '', Q['head'] = '';\n      i = 4, j = 7;\n      break;\n\n    default:\n      console.log('default');\n  }\n\n  var recursiveRL = function recursiveRL(value) {\n    if (i < j) {\n      rl.question(value + ': ', function (answer) {\n        Q[Object.keys(Q)[i]] = answer;\n        i++;\n        recursiveRL(Object.keys(Q)[i]);\n      });\n    } else {\n      ghAPI(Q);\n      rl.close();\n    }\n  };\n  recursiveRL(Object.keys(Q)[i]);\n}\n\n/**\n* @param {Object} info The information.\n* pw will replace the personal access token.\n*/\nfunction ghAPI(info) {\n  // console.log(data.id +':' + data.pw);\n  var options = {\n    auth: info.id + ':' + info.pw,\n    hostname: 'api.github.com',\n    path: info.path,\n    method: info.mtd,\n    headers: {\n      'User-Agent': 'Node js',\n      'Content-Type': 'application/json' } };\n\n  var req = _https2.default.request(options, function (res) {\n    var body = '';\n\n    res.on('data', function (contents) {\n      body += contents;\n    });\n\n    res.on('end', function () {\n      var result = JSON.parse(body.toString());\n      var status = res.statusCode;\n\n      if (info.path === '/authorizations' && status === 201) {\n        // console.log('Get new token, please retry \"pr\"');\n        execSync('git config --local --add PAT.User ' + info.id);\n        execSync('git config --local --add PAT.Token ' + result.token);\n      }\n\n      console.log(result);\n    });\n  });\n\n  req.on('error', function (e) {\n    console.log('Error!', e.message);\n  });\n\n  var d = {};\n  if (info.path === '/authorizations') {\n    d = {\n      'note': 'Token_Absolute',\n      'scopes': 'repo' };\n  } else if (info.path === '/repos/lunchclass/absolute/pulls') {\n    d = {\n      'title': info.title,\n      'body': info.body,\n      'head': info.head + ':' + cmd('git symbolic-ref --short HEAD'),\n      'base': 'master' };\n  }\n  console.log(d);\n  req.write(JSON.stringify(d));\n  req.end();\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNjLmpzIl0sIm5hbWVzIjpbImNtZCIsImlucHV0UkwiLCJleGVjU3luYyIsInZhbHVlIiwidG9TdHJpbmciLCJyZXBsYWNlIiwiZXJyIiwicmwiLCJjcmVhdGVJbnRlcmZhY2UiLCJpbnB1dCIsInByb2Nlc3MiLCJzdGRpbiIsIm91dHB1dCIsInN0ZG91dCIsIm9wdGlvbiIsImkiLCJqIiwiUSIsInB3IiwiY29uc29sZSIsImxvZyIsInJlY3Vyc2l2ZVJMIiwicXVlc3Rpb24iLCJhbnN3ZXIiLCJPYmplY3QiLCJrZXlzIiwiZ2hBUEkiLCJjbG9zZSIsImluZm8iLCJvcHRpb25zIiwiYXV0aCIsImlkIiwiaG9zdG5hbWUiLCJwYXRoIiwibWV0aG9kIiwibXRkIiwiaGVhZGVycyIsInJlcSIsInJlcXVlc3QiLCJyZXMiLCJib2R5Iiwib24iLCJjb250ZW50cyIsInJlc3VsdCIsIkpTT04iLCJwYXJzZSIsInN0YXR1cyIsInN0YXR1c0NvZGUiLCJ0b2tlbiIsImUiLCJtZXNzYWdlIiwiZCIsInRpdGxlIiwiaGVhZCIsIndyaXRlIiwic3RyaW5naWZ5IiwiZW5kIl0sIm1hcHBpbmdzIjoiOzs7O1FBV2dCQSxHLEdBQUFBLEc7UUFlQUMsTyxHQUFBQSxPOztBQTFCaEI7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQyxXQUFXLHdCQUFhQSxRQUE5QjtrQkFDZSxFOztBQUVmOzs7OztBQUlPLFNBQVNGLEdBQVQsQ0FBYUcsS0FBYixFQUFvQjtBQUN6QixNQUFJO0FBQ0YsV0FBT0QsU0FBU0MsS0FBVCxFQUFnQkMsUUFBaEIsR0FBMkJDLE9BQTNCLENBQW1DLEtBQW5DLEVBQTBDLEVBQTFDLENBQVA7QUFDRCxHQUZELENBRUUsT0FBT0MsR0FBUCxFQUFZO0FBQ1osV0FBTyxDQUFQO0FBQ0Q7QUFDRjs7QUFFTSxJQUFNQyxrQkFBSyxtQkFBU0MsZUFBVCxDQUF5QjtBQUN6Q0MsU0FBT0MsUUFBUUMsS0FEMEI7QUFFekNDLFVBQVFGLFFBQVFHLE1BRnlCLEVB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QUFnQixVQUFTUSxDQUFULEVBQVk7QUFDMUI5QixZQUFRQyxHQUFSLENBQVksUUFBWixFQUFzQjZCLEVBQUVDLE9BQXhCO0FBQ0QsR0FGRDs7QUFJQSxNQUFJQyxJQUFJLEVBQVI7QUFDQSxNQUFJdkIsS0FBS0ssSUFBTCxLQUFjLGlCQUFsQixFQUFxQztBQUNuQ2tCLFFBQUk7QUFDRixjQUFRLGdCQUROO0FBRUYsZ0JBQVUsTUFGUixFQUFKO0FBR0QsR0FKRCxNQUlPLElBQUl2QixLQUFLSyxJQUFMLEtBQWMsa0NBQWxCLEVBQXNEO0FBQzNEa0IsUUFBSTtBQUNGLGVBQVN2QixLQUFLd0IsS0FEWjtBQUVGLGNBQVF4QixLQUFLWSxJQUZYO0FBR0YsY0FBUVosS0FBS3lCLElBQUwsR0FBVyxHQUFYLEdBQWVyRCxJQUFJLCtCQUFKLENBSHJCO0FBSUYsY0FBUSxRQUpOLEVBQUo7QUFLRDtBQUNEbUIsVUFBUUMsR0FBUixDQUFZK0IsQ0FBWjtBQUNBZCxNQUFJaUIsS0FBSixDQUFVVixLQUFLVyxTQUFMLENBQWVKLENBQWYsQ0FBVjtBQUNBZCxNQUFJbUIsR0FBSjtBQUNEIiwiZmlsZSI6ImNjLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2dhcmxpY2Ivc3R1ZHkvYWJzb2x1dGUvYm9vdHN0cmFwL2NvbW1hbmQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2hpbGRQcm9jZXNzIGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuaW1wb3J0IGh0dHBzIGZyb20gJ2h0dHBzJztcbmltcG9ydCByZWFkbGluZSBmcm9tICdyZWFkbGluZSc7XG5cbmNvbnN0IGV4ZWNTeW5jID0gY2hpbGRQcm9jZXNzLmV4ZWNTeW5jO1xuZXhwb3J0IGRlZmF1bHQgJyc7XG5cbi8qKlxuKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUgVGhlIHNoZWxsIGNvbW1hbmQuXG4qIEByZXR1cm4ge1N0cmluZ30gZGF0YSBUaGUgZXh0cmEgY29tbWFuZC5cbiovXG5leHBvcnQgZnVuY3Rpb24gY21kKHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGV4ZWNTeW5jKHZhbHVlKS50b1N0cmluZygpLnJlcGxhY2UoL1xcbi9nLCAnJyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiAwO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBybCA9IHJlYWRsaW5lLmNyZWF0ZUludGVyZmFjZSh7XG4gIGlucHV0OiBwcm9jZXNzLnN0ZGluLFxuICBvdXRwdXQ6IHByb2Nlc3Muc3Rkb3V0fSk7XG5cbi8qKlxuKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9uIGtleXdvcmRzICdwcicgb3IgJ2NwJy5cbiovXG5leHBvcnQgZnVuY3Rpb24gaW5wdXRSTChvcHRpb24pIHtcbiAgbGV0IGkgPSAwO1xuICBsZXQgaiA9IDA7XG5cbiAgbGV0IFEgPSB7XG4gICAgJ2lkJzogY21kKCdnaXQgY29uZmlnIC0tbG9jYWwgLS1nZXQgUEFULlVzZXInKSxcbiAgICAncHcnOiBjbWQoJ2dpdCBjb25maWcgLS1sb2NhbCAtLWdldCBQQVQuVG9rZW4nKX07XG5cbiAgaWYoUS5wdyA9PT0gMClcbiAgICBvcHRpb24gPSAndG9rZW4nO1xuXG4gIHN3aXRjaCAob3B0aW9uKSB7XG4gIGNhc2UgJ3Rva2VuJzpcbiAgICBjb25zb2xlLmxvZygnT25seSBmaXJzdCBhdHRlbXB0IHJlcXVpcmVzIHlvdXIgSUQvUFcnKTtcbiAgICBRWydtdGQnXSA9ICdQT1NUJywgUVsncGF0aCddID0gJy9hdXRob3JpemF0aW9ucyc7XG4gICAgaj0yO1xuICAgIGJyZWFrO1xuXG4gIGNhc2UgJ3ByJzpcbiAgICBjb25zb2xlLmxvZygnV3JpdGUgYWJvdXQgcHVsbC1yZXF1ZXN0ICh0aXRsZS9ib2R5L2hlYWQpJyk7XG4gICAgY29uc29sZS5sb2coJ0ZvciBcImhlYWRcIiwgZGVwZW5kaW5nIG9uIHdoZXJlIHRoZSBicmFuY2ggaXMsJyk7XG4gICAgY29uc29sZS5sb2coJ1lvdSBjYW4gd3JpdGUgXCJsdW5jaGNsYXNzXCIgb3IgeW91ciBpZCcpO1xuICAgIFFbJ210ZCddID0gJ1BPU1QnLCBRWydwYXRoJ10gPSAnL3JlcG9zL2x1bmNoY2xhc3MvYWJzb2x1dGUvcHVsbHMnO1xuICAgIFFbJ3RpdGxlJ109JycsIFFbJ2JvZHknXT0nJywgUVsnaGVhZCddPSAnJztcbiAgICBpPTQsIGo9NztcbiAgICBicmVhaztcblxuICBkZWZhdWx0OlxuICAgIGNvbnNvbGUubG9nKCdkZWZhdWx0Jyk7XG4gIH1cblxuICBjb25zdCByZWN1cnNpdmVSTCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGkgPCBqKSB7XG4gICAgICBybC5xdWVzdGlvbih2YWx1ZSArICc6ICcsIGZ1bmN0aW9uKGFuc3dlcikge1xuICAgICAgICBRW09iamVjdC5rZXlzKFEpW2ldXSA9IGFuc3dlcjtcbiAgICAgICAgaSsrO1xuICAgICAgICByZWN1cnNpdmVSTChPYmplY3Qua2V5cyhRKVtpXSk7XG4gICAgICB9KTtcbiAgICB9ZWxzZSB7XG4gICAgICBnaEFQSShRKTtcbiAgICAgIHJsLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuICByZWN1cnNpdmVSTChPYmplY3Qua2V5cyhRKVtpXSk7XG59XG5cbi8qKlxuKiBAcGFyYW0ge09iamVjdH0gaW5mbyBUaGUgaW5mb3JtYXRpb24uXG4qIHB3IHdpbGwgcmVwbGFjZSB0aGUgcGVyc29uYWwgYWNjZXNzIHRva2VuLlxuKi9cbmZ1bmN0aW9uIGdoQVBJKGluZm8pIHtcbiAgLy8gY29uc29sZS5sb2coZGF0YS5pZCArJzonICsgZGF0YS5wdyk7XG4gIGNvbnN0IG9wdGlvbnMgPXtcbiAgICBhdXRoOiBpbmZvLmlkICsgJzonICsgaW5mby5wdyxcbiAgICBob3N0bmFtZTogJ2FwaS5naXRodWIuY29tJyxcbiAgICBwYXRoOiBpbmZvLnBhdGgsXG4gICAgbWV0aG9kOiBpbmZvLm10ZCxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnVXNlci1BZ2VudCc6ICdOb2RlIGpzJyxcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9fTtcblxuICBjb25zdCByZXEgPSBodHRwcy5yZXF1ZXN0KG9wdGlvbnMsIChyZXMpID0+IHtcbiAgICBsZXQgYm9keSA9ICcnO1xuXG4gICAgcmVzLm9uKCdkYXRhJywgZnVuY3Rpb24oY29udGVudHMpIHtcbiAgICAgIGJvZHkgKz0gY29udGVudHM7XG4gICAgfSk7XG5cbiAgICByZXMub24oJ2VuZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShib2R5LnRvU3RyaW5nKCkpO1xuICAgICAgY29uc3Qgc3RhdHVzID0gcmVzLnN0YXR1c0NvZGU7XG5cbiAgICAgIGlmKGluZm8ucGF0aCA9PT0gJy9hdXRob3JpemF0aW9ucycgJiYgc3RhdHVzID09PSAyMDEpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0dldCBuZXcgdG9rZW4sIHBsZWFzZSByZXRyeSBcInByXCInKTtcbiAgICAgICAgZXhlY1N5bmMoJ2dpdCBjb25maWcgLS1sb2NhbCAtLWFkZCBQQVQuVXNlciAnICsgaW5mby5pZCk7XG4gICAgICAgIGV4ZWNTeW5jKCdnaXQgY29uZmlnIC0tbG9jYWwgLS1hZGQgUEFULlRva2VuICcgKyByZXN1bHQudG9rZW4pO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgIH0pO1xuICB9KTtcblxuICByZXEub24oJ2Vycm9yJywgZnVuY3Rpb24oZSkge1xuICAgIGNvbnNvbGUubG9nKCdFcnJvciEnLCBlLm1lc3NhZ2UpO1xuICB9KTtcblxuICBsZXQgZCA9IHt9O1xuICBpZiAoaW5mby5wYXRoID09PSAnL2F1dGhvcml6YXRpb25zJykge1xuICAgIGQgPSB7XG4gICAgICAnbm90ZSc6ICdUb2tlbl9BYnNvbHV0ZScsXG4gICAgICAnc2NvcGVzJzogJ3JlcG8nfTtcbiAgfSBlbHNlIGlmIChpbmZvLnBhdGggPT09ICcvcmVwb3MvbHVuY2hjbGFzcy9hYnNvbHV0ZS9wdWxscycpIHtcbiAgICBkID0ge1xuICAgICAgJ3RpdGxlJzogaW5mby50aXRsZSxcbiAgICAgICdib2R5JzogaW5mby5ib2R5LFxuICAgICAgJ2hlYWQnOiBpbmZvLmhlYWQgKyc6JytjbWQoJ2dpdCBzeW1ib2xpYy1yZWYgLS1zaG9ydCBIRUFEJyksXG4gICAgICAnYmFzZSc6ICdtYXN0ZXInfTtcbiAgfVxuICBjb25zb2xlLmxvZyhkKTtcbiAgcmVxLndyaXRlKEpTT04uc3RyaW5naWZ5KGQpKTtcbiAgcmVxLmVuZCgpO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "cc.js"
      ],
      "names": [
        "cmd",
        "inputRL",
        "execSync",
        "value",
        "toString",
        "replace",
        "err",
        "rl",
        "createInterface",
        "input",
        "process",
        "stdin",
        "output",
        "stdout",
        "option",
        "i",
        "j",
        "Q",
        "pw",
        "console",
        "log",
        "recursiveRL",
        "question",
        "answer",
        "Object",
        "keys",
        "ghAPI",
        "close",
        "info",
        "options",
        "auth",
        "id",
        "hostname",
        "path",
        "method",
        "mtd",
        "headers",
        "req",
        "request",
        "res",
        "body",
        "on",
        "contents",
        "result",
        "JSON",
        "parse",
        "status",
        "statusCode",
        "token",
        "e",
        "message",
        "d",
        "title",
        "head",
        "write",
        "stringify",
        "end"
      ],
      "mappings": "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",
      "file": "cc.js",
      "sourceRoot": "/home/garlicb/study/absolute/bootstrap/command",
      "sourcesContent": [
        "import childProcess from 'child_process';\nimport https from 'https';\nimport readline from 'readline';\n\nconst execSync = childProcess.execSync;\nexport default '';\n\n/**\n* @param {String} value The shell command.\n* @return {String} data The extra command.\n*/\nexport function cmd(value) {\n  try {\n    return execSync(value).toString().replace(/\\n/g, '');\n  } catch (err) {\n    return 0;\n  }\n}\n\nexport const rl = readline.createInterface({\n  input: process.stdin,\n  output: process.stdout});\n\n/**\n* @param {String} option keywords 'pr' or 'cp'.\n*/\nexport function inputRL(option) {\n  let i = 0;\n  let j = 0;\n\n  let Q = {\n    'id': cmd('git config --local --get PAT.User'),\n    'pw': cmd('git config --local --get PAT.Token')};\n\n  if(Q.pw === 0)\n    option = 'token';\n\n  switch (option) {\n  case 'token':\n    console.log('Only first attempt requires your ID/PW');\n    Q['mtd'] = 'POST', Q['path'] = '/authorizations';\n    j=2;\n    break;\n\n  case 'pr':\n    console.log('Write about pull-request (title/body/head)');\n    console.log('For \"head\", depending on where the branch is,');\n    console.log('You can write \"lunchclass\" or your id');\n    Q['mtd'] = 'POST', Q['path'] = '/repos/lunchclass/absolute/pulls';\n    Q['title']='', Q['body']='', Q['head']= '';\n    i=4, j=7;\n    break;\n\n  default:\n    console.log('default');\n  }\n\n  const recursiveRL = function(value) {\n    if (i < j) {\n      rl.question(value + ': ', function(answer) {\n        Q[Object.keys(Q)[i]] = answer;\n        i++;\n        recursiveRL(Object.keys(Q)[i]);\n      });\n    }else {\n      ghAPI(Q);\n      rl.close();\n    }\n  };\n  recursiveRL(Object.keys(Q)[i]);\n}\n\n/**\n* @param {Object} info The information.\n* pw will replace the personal access token.\n*/\nfunction ghAPI(info) {\n  // console.log(data.id +':' + data.pw);\n  const options ={\n    auth: info.id + ':' + info.pw,\n    hostname: 'api.github.com',\n    path: info.path,\n    method: info.mtd,\n    headers: {\n      'User-Agent': 'Node js',\n      'Content-Type': 'application/json'}};\n\n  const req = https.request(options, (res) => {\n    let body = '';\n\n    res.on('data', function(contents) {\n      body += contents;\n    });\n\n    res.on('end', function() {\n      const result = JSON.parse(body.toString());\n      const status = res.statusCode;\n\n      if(info.path === '/authorizations' && status === 201) {\n        // console.log('Get new token, please retry \"pr\"');\n        execSync('git config --local --add PAT.User ' + info.id);\n        execSync('git config --local --add PAT.Token ' + result.token);\n      }\n\n      console.log(result);\n    });\n  });\n\n  req.on('error', function(e) {\n    console.log('Error!', e.message);\n  });\n\n  let d = {};\n  if (info.path === '/authorizations') {\n    d = {\n      'note': 'Token_Absolute',\n      'scopes': 'repo'};\n  } else if (info.path === '/repos/lunchclass/absolute/pulls') {\n    d = {\n      'title': info.title,\n      'body': info.body,\n      'head': info.head +':'+cmd('git symbolic-ref --short HEAD'),\n      'base': 'master'};\n  }\n  console.log(d);\n  req.write(JSON.stringify(d));\n  req.end();\n}\n"
      ]
    },
    "mtime": 1501779166744
  }
}